<html py:strip=""
  xmlns:py="http://genshi.edgewall.org/"
  xmlns:xi="http://www.w3.org/2001/XInclude">

  <py:extends href="master.xhtml" />

  <head py:block="head" py:strip="True">
    <title>Mines ACM - Attendence</title>
  </head>

  <div py:def="render_field(f)" py:with="fo = f.field_object()" class="${fo.group_class}${' disabled' if 'disabled' in fo.params.keys() else ''}">
    <py:if test="isinstance(fo, SelectionComponent)">
      <py:if test="f.label">
        <label>${Markup(fo.dom())} ${f.label}</label>
      </py:if><py:else>
        ${Markup(fo.dom())}
      </py:else>
    </py:if><py:else>
      <py:if test="isinstance(fo, GroupComponent)">
        <legend py:if="isinstance(fo, Section)" py:content="f.label" />
        <label py:if="not isinstance(fo, Section) and f.label" py:content="f.label" />
        <py:for each="f in fo.subfields">${render_field(f)}</py:for>
      </py:if><py:else>
        <label py:if="f.label">${f.label}</label>
        ${Markup(fo.dom())}
      </py:else>
    </py:else>
  </div>

  <body py:block="body" py:strip="True">
    <h1 class="page-header">${meeting.title} Attendence</h1>
    <div class="row">
      <div class="col-md-8">
        <p>Welcome to ACM! Please take a minute to fill out these questions.</p>
        <form action="${tg.url('/m/{}/attend'.format(meeting.id))}" method="post" id="meeting-form">
          <py:for each="f in fields">${render_field(f)}</py:for>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </body>
</html>
